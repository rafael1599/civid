import{u as L,r as N,j as e,a as H,H as $,b as R}from"./app-_z9UfZ5t.js";import{Z as z}from"./ZenLayout-CnaAdrO-.js";import{M as I,S as W}from"./SecondaryButton-bWbD7Y4H.js";import{I as p}from"./InputLabel-BonPeY02.js";import{T as v,I as h}from"./TextInput-DmwoXGuz.js";import{P as T}from"./PrimaryButton-DZml3sj-.js";import"./Dropdown-DwGj36WW.js";import"./transition-BZJ--MBE.js";function U({show:j,onClose:x,event:s,entities:g}){const{data:l,setData:a,patch:d,processing:b,errors:u,reset:f,transform:y}=L({id:"",title:"",amount:"",entity_id:"",occurred_at:"",description:""});N.useEffect(()=>{s&&a({id:s.id,title:s.title||"",amount:Math.abs(s.amount),entity_id:s.entity_id||"",occurred_at:s.occurred_at?s.occurred_at.split("T")[0]:"",description:s.description||""})},[s]);const m=n=>{n.preventDefault();const o=s.type==="EXPENSE"||s.type==="PAYMENT"&&s.amount<0?-Math.abs(l.amount):Math.abs(l.amount);y(r=>({...r,amount:o})),d(route("life-events.update",{life_event:s.id}),{onSuccess:()=>{f(),x()}})};return e.jsx(I,{show:j,onClose:x,maxWidth:"md",children:e.jsxs("form",{onSubmit:m,className:"p-6",children:[e.jsxs("header",{className:"mb-6 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-black text-gray-900 uppercase tracking-tighter",children:"Editar Transacción"}),e.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full ${s?.type==="INCOME"?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:s?.type})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{value:"Monto",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-black text-gray-300",children:"$"}),e.jsx(v,{type:"number",step:"0.01",className:"w-full text-3xl font-black pl-10 border-none focus:ring-0 bg-gray-50 rounded-2xl py-4",value:l.amount,onChange:n=>a("amount",n.target.value),required:!0,isFocused:!0})]}),e.jsx(h,{message:u.amount,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(p,{value:"Billetera",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsxs("select",{className:"mt-1 block w-full rounded-2xl border-gray-100 bg-gray-50 text-sm font-medium focus:border-indigo-500 focus:ring-indigo-500",value:l.entity_id,onChange:n=>a("entity_id",n.target.value),children:[e.jsx("option",{value:"",children:"Seleccionar..."}),g.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]}),e.jsx(h,{message:u.entity_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(p,{value:"Fecha",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsx(v,{type:"date",className:"mt-1 block w-full rounded-2xl border-gray-100 bg-gray-50 text-sm font-medium",value:l.occurred_at,onChange:n=>a("occurred_at",n.target.value),required:!0}),e.jsx(h,{message:u.occurred_at,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(p,{value:"Descripción / Concepto",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsx(v,{type:"text",className:"mt-1 block w-full rounded-2xl border-gray-100 bg-gray-50 text-sm font-medium",value:l.title,onChange:n=>a("title",n.target.value),placeholder:"E.g. Compra de supermercado"}),e.jsx(h,{message:u.title,className:"mt-2"})]})]}),e.jsxs("div",{className:"mt-8 flex gap-3",children:[e.jsx(W,{onClick:x,className:"flex-1 justify-center py-4 rounded-2xl border-none bg-gray-100 hover:bg-gray-200",children:"Cancelar"}),e.jsx(T,{className:"flex-1 justify-center py-4 rounded-2xl bg-black hover:bg-gray-800 shadow-xl shadow-black/10",disabled:b,children:b?"Guardando...":"Actualizar"})]}),e.jsxs("div",{className:"mt-12 pt-6 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:()=>{const n=document.getElementById("debug-raw-data");n&&n.classList.toggle("hidden")},className:"text-[9px] font-black uppercase tracking-widest text-gray-300 hover:text-gray-500 transition-colors",children:"[ DEBUG INFO ]"}),e.jsx("div",{id:"debug-raw-data",className:"hidden mt-4 p-4 bg-gray-900 rounded-2xl overflow-x-auto",children:e.jsx("pre",{className:"text-[10px] text-emerald-400 font-mono",children:JSON.stringify(s,null,2)})})]})]})})}function V({show:j,onClose:x,entities:s,defaultType:g="EXPENSE",defaultStatus:l="SCHEDULED"}){const{data:a,setData:d,post:b,processing:u,errors:f,reset:y,transform:m}=L({title:"",amount:"",entity_id:"",occurred_at:new Date().toISOString().split("T")[0],description:"",type:g,status:l});N.useEffect(()=>{j&&(y(),d({...a,type:g,status:l,occurred_at:new Date().toISOString().split("T")[0]}))},[j]);const n=o=>{o.preventDefault();const r=a.type==="EXPENSE"||a.type==="PAYMENT"||a.type==="SERVICE"?-Math.abs(a.amount):Math.abs(a.amount);m(k=>({...k,amount:r})),b(route("life-events.store"),{onSuccess:()=>{y(),x()}})};return e.jsx(I,{show:j,onClose:x,maxWidth:"md",children:e.jsxs("form",{onSubmit:n,className:"p-6",children:[e.jsx("header",{className:"mb-6 flex justify-between items-center",children:e.jsx("h2",{className:"text-lg font-black text-gray-900 uppercase tracking-tighter",children:"Nuevo Compromiso"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{value:"Monto",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-black text-gray-300",children:"$"}),e.jsx(v,{type:"number",step:"0.01",className:"w-full text-3xl font-black pl-10 border-none focus:ring-0 bg-gray-50 rounded-2xl py-4",value:a.amount,onChange:o=>d("amount",o.target.value),required:!0,isFocused:!0})]}),e.jsx(h,{message:f.amount,className:"mt-2"})]}),e.jsxs("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-2xl",children:[e.jsx("button",{type:"button",onClick:()=>d("type","EXPENSE"),className:`flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-xl transition-all ${a.type==="EXPENSE"?"bg-white text-gray-900 shadow-sm":"text-gray-400"}`,children:"GASTO"}),e.jsx("button",{type:"button",onClick:()=>d("type","INCOME"),className:`flex-1 py-2 text-[10px] font-black uppercase tracking-widest rounded-xl transition-all ${a.type==="INCOME"?"bg-white text-emerald-600 shadow-sm":"text-gray-400"}`,children:"INGRESO"})]}),e.jsxs("div",{children:[e.jsx(p,{value:"Entidad / Destino",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsxs("select",{className:"mt-1 block w-full rounded-2xl border-gray-100 bg-gray-50 text-sm font-medium focus:border-indigo-500 focus:ring-indigo-500",value:a.entity_id,onChange:o=>d("entity_id",o.target.value),children:[e.jsx("option",{value:"",children:"Seleccionar..."}),s.map(o=>e.jsxs("option",{value:o.id,children:[o.name," (",o.category,")"]},o.id))]}),e.jsx(h,{message:f.entity_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(p,{value:"Fecha",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsx(v,{type:"date",className:"mt-1 block w-full rounded-2xl border-gray-100 bg-gray-50 text-sm font-medium",value:a.occurred_at,onChange:o=>d("occurred_at",o.target.value),required:!0}),e.jsx(h,{message:f.occurred_at,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(p,{value:"Título",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsx(v,{type:"text",className:"mt-1 block w-full rounded-2xl border-gray-100 bg-gray-50 text-sm font-medium",value:a.title,onChange:o=>d("title",o.target.value),placeholder:"E.g. Pago de Renta",required:!0}),e.jsx(h,{message:f.title,className:"mt-2"})]})]}),e.jsxs("div",{className:"mt-8 flex gap-3",children:[e.jsx(W,{onClick:x,className:"flex-1 justify-center py-4 rounded-2xl border-none bg-gray-100 hover:bg-gray-200",children:"Cancelar"}),e.jsx(T,{className:"flex-1 justify-center py-4 rounded-2xl bg-black hover:bg-gray-800 shadow-xl shadow-black/10",disabled:u,children:u?"Creando...":"Crear"})]})]})})}function G({show:j,onClose:x,event:s,entities:g}){const{data:l,setData:a,patch:d,processing:b,errors:u,reset:f,transform:y}=L({amount:"",entity_id:"",occurred_at:"",title:""});N.useEffect(()=>{s&&a({amount:Math.abs(s.amount)||"",entity_id:s.entity_id||"",occurred_at:s.occurred_at?s.occurred_at.split("T")[0]:"",title:s.title||""})},[s]);const m=r=>{if(r==="amount")return!s?.amount||s?.amount===0;if(r==="entity_id"){if(s?.status==="SCHEDULED")return!1;const k=s?.entity?.category||s?.entity_category||null;return!s?.entity_id||k!=="FINANCE"}return r==="occurred_at"?!s?.occurred_at:r==="title"?!s?.title||s?.title.toLowerCase().includes("desconocido")||s?.title.toLowerCase().includes("transacción omnibox"):!1},n=r=>{r.preventDefault();const k=s.type==="EXPENSE"?-Math.abs(l.amount):Math.abs(l.amount);y(C=>({...C,amount:k})),d(route("life-events.update",{life_event:s.id}),{onSuccess:()=>{f(),x()}})};if(!s)return null;const o=[m("amount"),m("entity_id"),m("occurred_at"),m("title")].filter(Boolean).length;return e.jsx(I,{show:j,onClose:x,maxWidth:"sm",children:e.jsxs("form",{onSubmit:n,className:"p-6",children:[e.jsxs("header",{className:"mb-6",children:[e.jsx("h2",{className:"text-sm font-black text-rose-600 uppercase tracking-widest",children:"Atención Requerida"}),e.jsxs("p",{className:"text-[10px] text-gray-400 mt-1 uppercase font-bold",children:["Faltan ",o," campos por completar"]})]}),e.jsxs("div",{className:"space-y-6",children:[m("amount")&&e.jsxs("div",{children:[e.jsx(p,{value:"Monto",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsx(v,{type:"number",step:"0.01",className:"w-full text-2xl font-black border-none bg-gray-50 rounded-2xl py-3 focus:ring-rose-500",value:l.amount,onChange:r=>a("amount",r.target.value),required:!0,isFocused:!0}),e.jsx(h,{message:u.amount})]}),m("entity_id")&&e.jsxs("div",{children:[e.jsx(p,{value:"Billetera",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsxs("select",{className:"mt-1 block w-full rounded-2xl border-none bg-gray-50 text-sm font-bold p-4 focus:ring-rose-500",value:l.entity_id,onChange:r=>a("entity_id",r.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar..."}),g.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),e.jsx(h,{message:u.entity_id})]}),m("occurred_at")&&e.jsxs("div",{children:[e.jsx(p,{value:"Fecha",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsx(v,{type:"date",className:"mt-1 block w-full rounded-2xl border-none bg-gray-50 text-sm font-bold p-4 focus:ring-rose-500",value:l.occurred_at,onChange:r=>a("occurred_at",r.target.value),required:!0}),e.jsx(h,{message:u.occurred_at})]}),m("title")&&e.jsxs("div",{children:[e.jsx(p,{value:"Descripción",className:"text-[10px] uppercase tracking-widest text-gray-400"}),e.jsx(v,{type:"text",className:"mt-1 block w-full rounded-2xl border-none bg-gray-50 text-sm font-bold p-4 focus:ring-rose-500",value:l.title,onChange:r=>a("title",r.target.value),placeholder:"E.g. Pago de suscripción",required:!0}),e.jsx(h,{message:u.title})]})]}),e.jsxs("div",{className:"mt-8 flex gap-2",children:[e.jsx("button",{type:"submit",disabled:b,className:"flex-1 py-4 bg-rose-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-rose-200 hover:bg-rose-700 transition-all",children:b?"Corrigiendo...":"Completar Ahora"}),e.jsx("button",{type:"button",onClick:x,className:"px-6 py-4 text-[10px] font-black uppercase text-gray-400 hover:text-gray-600 transition-colors",children:"Omitir"})]})]})})}function X({show:j,onClose:x,wallets:s}){const[g,l]=N.useState("list"),[a,d]=N.useState(null),{data:b,setData:u,post:f,patch:y,delete:m,processing:n,errors:o,reset:r}=L({name:"",balance:""});N.useEffect(()=>{a?u({name:a.name||"",balance:a.balance||0}):r()},[a]);const k=i=>{d(i),l("edit")},C=()=>{d(null),l("edit")},A=i=>{i.preventDefault(),a?y(route("wallets.update",{wallet:a.id}),{onSuccess:()=>{l("list"),r()}}):f(route("wallets.store"),{onSuccess:()=>{l("list"),r()}})},S=()=>{confirm("¿Estás seguro de que quieres eliminar esta cuenta?")&&m(route("wallets.destroy",{wallet:a.id}),{onSuccess:()=>{l("list"),r()}})},E=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(i);return e.jsx(I,{show:j,onClose:x,maxWidth:"md",children:e.jsxs("div",{className:"bg-[#1a1614] text-[#ece4de] min-h-[500px] flex flex-col",children:[e.jsxs("header",{className:"p-6 flex items-center justify-between border-b border-[#2d2825]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[g==="edit"&&e.jsx("button",{onClick:()=>l("list"),className:"p-2 hover:bg-[#2d2825] rounded-full transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h2",{className:"text-xl font-bold",children:g==="list"?"Billeteras":a?"Editar Cuenta":"Nueva Cuenta"})]}),e.jsx("button",{onClick:x,className:"p-2 hover:bg-[#2d2825] rounded-full transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:g==="list"?e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-widest text-[#8b827b] font-bold",children:"Saldo Total Billeteras"}),e.jsx("h3",{className:"text-3xl font-black mt-1",children:E(s.reduce((i,D)=>i+D.balance,0))})]}),s.map(i=>e.jsxs("div",{onClick:()=>k(i),className:"bg-[#2d2825] p-5 rounded-2xl flex items-center justify-between cursor-pointer hover:bg-[#38322e] transition-all group active:scale-[0.98]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-[#e67e22]/10 text-[#e67e22] rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-lg",children:i.name}),e.jsx("p",{className:"text-[10px] text-[#8b827b] uppercase font-bold tracking-widest",children:i.category})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-black text-lg",children:E(i.balance)}),e.jsxs("div",{className:"flex items-center justify-end mt-1 text-[#e67e22] opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Editar"}),e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},i.id)),e.jsxs("button",{onClick:C,className:"w-full py-5 border-2 border-dashed border-[#2d2825] rounded-3xl text-[#8b827b] font-bold hover:border-[#e67e22] hover:text-[#e67e22] transition-all flex items-center justify-center gap-2 mt-4",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Nueva Cuenta"]})]}):e.jsxs("form",{onSubmit:A,className:"p-8 space-y-8",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"w-20 h-20 bg-[#e67e22] rounded-full flex items-center justify-center shadow-2xl shadow-[#e67e22]/20",children:e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m3-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(p,{value:"Nombre de la Cuenta",className:"text-[10px] uppercase font-bold tracking-widest text-[#8b827b] mb-2"}),e.jsx(v,{className:"w-full bg-[#2d2825] border-none text-xl font-bold rounded-2xl py-4 px-6 focus:ring-2 focus:ring-[#e67e22]",value:b.name,onChange:i=>u("name",i.target.value),placeholder:"E.g. Cuenta de Ahorros BCP",required:!0}),e.jsx(h,{message:o.name})]}),e.jsxs("div",{children:[e.jsx(p,{value:"Saldo Actual",className:"text-[10px] uppercase font-bold tracking-widest text-[#8b827b] mb-2"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-2xl font-black text-[#8b827b]",children:"$"}),e.jsx(v,{type:"number",step:"0.01",className:"w-full bg-[#2d2825] border-none text-3xl font-black rounded-2xl py-5 pl-12 pr-6 focus:ring-2 focus:ring-[#e67e22]",value:b.balance,onChange:i=>u("balance",i.target.value),required:!0})]}),e.jsx(h,{message:o.balance}),e.jsx("p",{className:"text-[10px] text-[#8b827b] mt-2 font-medium",children:"Se creará un evento de ajuste de saldo automáticamente."})]})]}),e.jsxs("div",{className:"pt-8 flex flex-col gap-3",children:[e.jsx("button",{type:"submit",disabled:n,className:"w-full py-5 bg-[#e67e22] text-white rounded-3xl font-black text-sm uppercase tracking-widest shadow-xl shadow-[#e67e22]/20 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50",children:n?"Guardando...":"Guardar Cuenta"}),a&&e.jsx("button",{type:"button",onClick:S,className:"w-full py-4 text-rose-500 font-bold hover:bg-rose-500/5 rounded-2xl transition-all",children:"Eliminar Esta Cuenta"}),e.jsx("button",{type:"button",onClick:()=>l("list"),className:"w-full py-4 text-[#8b827b] font-bold",children:"Cancelar"})]})]})})]})})}function ae({total_balance:j,history:x,wallets:s,entities:g,active_entities:l,this_month:a,historical_flow:d,forecast:b}){const{url:u}=H(),[f,y]=N.useState(null),[m,n]=N.useState(!1),[o,r]=N.useState(!1),[k,C]=N.useState(!1),[A,S]=N.useState(!1),E=t=>{y(t),n(!0)},i=(t,c)=>{t.stopPropagation(),y(c),C(!0)},D=()=>{r(!0)},F=t=>{if(!t.amount||t.amount===0||!t.occurred_at)return!0;if(t.status==="SCHEDULED")return!1;if(!t.entity_id)return!0;const c=t.title?.toLowerCase()||"",w=t.entity?.name?.toLowerCase()||t.entity_name?.toLowerCase()||"";return!!((t.entity?.category||t.entity_category||null)!=="FINANCE"||c.includes("desconocido")||c.includes("transacción omnibox")||w.includes("billetera principal")&&c.includes("transacción omnibox"))},q=(t,c)=>{t.stopPropagation(),confirm(`¿Confirmas que pagaste $${Math.abs(c.amount).toLocaleString()} hoy?`)&&R.post(route("events.mark-as-paid",c.id),{},{preserveScroll:!0})},M=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),O=t=>{if(!t)return"";const c=t.split("T")[0],w=new Date(c+"T12:00:00");if(isNaN(w.getTime()))return t;const _=new Date;if(_.setHours(0,0,0,0),Math.floor(Math.abs(w-_)/(1e3*60*60*24))<=14){const P=new Intl.DateTimeFormat("es-ES",{weekday:"long",day:"numeric"}).format(w);return P.charAt(0).toUpperCase()+P.slice(1)}else return`${w.getMonth()+1}/${w.getDate()}`};return e.jsxs(z,{children:[e.jsx($,{title:"Pulse"}),e.jsx(U,{show:m,onClose:()=>n(!1),event:f,entities:[...s||[],...g||[]]}),e.jsx(V,{show:o,onClose:()=>r(!1),entities:[...s||[],...g||[]],defaultStatus:"SCHEDULED"}),e.jsx(G,{show:k,onClose:()=>C(!1),event:f,entities:s||[]}),e.jsx(X,{show:A,onClose:()=>S(!1),wallets:s||[]}),e.jsxs("div",{className:"space-y-12 pb-24",children:[e.jsxs("section",{className:"text-center py-8",children:[e.jsx("h2",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-2",children:"Net Worth"}),e.jsx("h1",{className:"text-5xl font-black text-gray-900 tracking-tighter",children:M(j)}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-sm font-medium",children:[e.jsxs("span",{className:"text-emerald-600",children:["+",M(a.income)]}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsxs("span",{className:"text-rose-600",children:["-",M(a.expenses)]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("button",{onClick:()=>S(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-50 text-gray-900 text-[10px] font-black uppercase tracking-widest rounded-full hover:bg-gray-100 transition-all border border-gray-100 shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Administrar Cuentas"]})})]}),e.jsx("section",{children:e.jsx("div",{className:"flex items-end justify-between h-32 gap-2 px-2",children:d.map((t,c)=>{const w=Math.max(...d.map(B=>B.expenses)),_=t.expenses/w*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[e.jsx("div",{className:"w-full bg-gray-100 rounded-t-sm transition-all group-hover:bg-indigo-200",style:{height:`${_}%`}}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:t.month})]},c)})})}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[e.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-400",children:"Próximos Compromisos"}),e.jsx("button",{onClick:D,className:"w-6 h-6 flex items-center justify-center bg-gray-50 text-gray-400 hover:text-indigo-600 hover:bg-gray-100 rounded-full transition-colors",title:"Añadir compromiso",children:e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),e.jsxs("div",{className:"flex overflow-x-auto gap-4 pb-4 scrollbar-hide",children:[e.jsxs("div",{onClick:D,className:"relative min-w-[160px] bg-gray-50/50 p-4 rounded-2xl border-2 border-dashed border-gray-100 flex flex-col items-center justify-center cursor-pointer hover:border-indigo-100 hover:bg-indigo-50/10 transition-all group",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center text-gray-300 group-hover:text-indigo-400 transition-colors shadow-sm mb-2",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 group-hover:text-indigo-400 transition-colors",children:"Nuevo"})]}),b.upcoming_bills.map(t=>e.jsxs("div",{onClick:()=>E(t),className:"relative min-w-[160px] bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex flex-col justify-between cursor-pointer hover:shadow-md transition-shadow group",children:[F(t)&&e.jsx("button",{onClick:c=>i(c,t),className:"absolute top-2 right-2 w-6 h-6 bg-rose-50 text-rose-500 rounded-full flex items-center justify-center hover:bg-rose-100 transition-colors z-10",children:e.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{fillRule:"evenodd",d:"M8.445 14.832A1 1 0 0010 14v-2.798l1.274 1.274a1 1 0 101.414-1.414L10 8.328l-1.274 1.274a1 1 0 001.414 1.414L10 9.732V12a1 1 0 102 0V8.328l-1.274 1.274z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})]})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-900 truncate",children:t.entity_name}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:O(t.occurred_at)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("p",{className:`text-sm font-black ${t.days_left<=3?"text-rose-600":"text-gray-900"}`,children:M(t.amount)}),e.jsx("button",{onClick:c=>q(c,t),className:"px-2 py-1 bg-emerald-50 text-emerald-600 text-[8px] font-black uppercase tracking-tighter rounded-md hover:bg-emerald-100 transition-colors",children:"PAGAR"})]})]},t.id))]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider text-gray-400 mb-4 px-1",children:"Actividad Reciente"}),e.jsx("div",{className:"space-y-1",children:x.map(t=>e.jsxs("div",{onClick:()=>E(t),className:"group flex items-center justify-between p-4 bg-white rounded-2xl border border-gray-50/50 hover:border-gray-100 transition-colors cursor-pointer active:scale-[0.98]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${t.type==="INCOME"?"bg-emerald-50 text-emerald-600":"bg-gray-50 text-gray-600"}`,children:t.type==="INCOME"?"↓":"↑"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-medium",children:O(t.occurred_at)}),t.entity?.name&&e.jsx("span",{className:"px-1.5 py-0.5 bg-gray-50 text-gray-400 text-[8px] font-bold uppercase rounded border border-gray-100/50",children:t.entity.name})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[F(t)&&e.jsx("button",{onClick:c=>i(c,t),className:"p-2 bg-rose-50 text-rose-500 rounded-full hover:bg-rose-100 transition-colors",title:"Completar información",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("p",{className:`text-sm font-black ${t.type==="INCOME"?"text-emerald-600":"text-gray-900"}`,children:[t.type==="INCOME"?"+":"-",M(Math.abs(t.amount))]})]})]},t.id))})]})]})]})}export{ae as default};
